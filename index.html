<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Stylesheets - separated by concern just to keep things clean. -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/game-page-title.css">
    <link rel="stylesheet" href="css/game-page-lab.css">
    <link rel="stylesheet" href="css/game-page-story.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

    <!-- Include dependencies -->
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/confetti.js"></script>

    <!-- GSAP stuff -->
    <script src="js/gsap.min.js"></script>
    <script src="js/Draggable.min.js"></script>

    <!-- JS files for each page -->
    <script src="js/game-page-title.js"></script>
    <script src="js/game-page-story.js"></script>
    <script src="js/game-page-lab.js"></script>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Adventures of Maggie &amp; The Magnets</title>
</head>
<body ontouchstart>
    <div class="gameplay-stage-container">
        <div class="gameplay-stage">

            <!-- Global controls -->
            <div class="global-controls">
                <button class="btn-circle btn-home"></button>
                <div class="separator"></div>
                <button class="btn-circle btn-help"></button>
                <button class="btn-circle btn-sound"></button>
            </div>

            <!-- Dialog boxes -->
            <div class="modal-container">
                <div class="modal">
                    <img id="modal-container__bg" src="img/modal@2x.png">
                    <img id="modal-container__title-img" src="img/speechbubble@2x.png">
                    <div class="modal-title">Stop Playing?</div>
                    <div class="modal-content">
                        <p>Are you sure?</p>
                        <p>If you stop now, you'll have to start from the beginning!</p>
                    </div>
                    <div class="modal-actions-container">
                        <div class="modal-actions">
                            <div class="modal-action">
                                <button class="btn-circle btn-96 btn-yes"></button>
                                <div class="modal-action-label">Yes, Go Home</div>
                            </div>
                            <div class="modal-action">
                                <button class="btn-circle btn-96 btn-no"></button>
                                <div class="modal-action-label">No, Take Me Back!</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Start screen -->
            <!-- chrome won't let us play audio until the user has interacted with the page.
                 so this is just a very simple start screen to force that interaction.
                 it's not a part of the game. if i could have it my way, this page would not exist -->
            <div class='game-page game-page-start'>
                <div class="game-page-start-content">
                    <h1>â–¶</h1>
                    <p>Click to start</p>
                </div>
                
            </div>

            <!-- Title Screen -->
            <div class="game-page game-page-title">
                <div class='title-logo'>
                    <img class="title-logo-full" src="img/logo-nomaggie.png">
                    
                    <div class="character-maggie">
                        <div class="character-maggie-hair"></div>
                        <div class="character-maggie-face">
                            <div class="character-maggie-face-brow-l"></div>
                            <div class="character-maggie-face-brow-r"></div>
                            <div class="character-maggie-face-eye-l"></div>
                            <div class="character-maggie-face-eye-r"></div>
                            <div class="character-maggie-face-mouth character-maggie-face-mouth-frown"></div>
                        </div>
                        <div class="character-maggie-body"></div>
                        <div class="character-maggie-leg-l"></div>
                        <div class="character-maggie-leg-r"></div>
                    </div>
                </div>

                <div class="menu-options">
                    <div class="menu-option menu-option-story" data-activity="story">
                        <div class="menu-option-title">When Harry Met Maggie</div>
                        <div class="menu-option-subtitle">Learn about magnets!</div>
                    </div>
                    <div class="menu-option menu-option-playground" data-activity="lab">
                        <div class="menu-option-title">Magnet Lab</div>
                        <div class="menu-option-subtitle">What materials are magnetic?</div>
                    </div>
                    <div class="menu-option menu-option-game" data-activity="game">
                        <div class="menu-option-title">"The Return of the Evil Dr. Magneto!"</div>
                        <div class="menu-option-subtitle">Game!</div>
                    </div>
                </div>


                <div class="btn-orb btn-orb-start"></div>
                <img class="lightrays" src="img/lightrays.png" />
            </div>
            <!-- End Title Screen -->


            <!-- Story Screen -->
            <div class="game-page game-page-story">
                <div class="scene scene0">

                    <div class="items">
                        <div class="item card"></div>
                        <div class="item compass">
                            <div class="item compass-needle"></div>
                        </div>
                        <div class="item phone"></div>
                    </div>

                    <div class="text">
                        <p>Magnets help make the things we use every day work.</p>
                        <p>Our bank cards, compasses, and even our phones!</p>
                    </div>
                </div>
                
                <div class="scene scene1">
                    <div class="characters">


                        <div class="item character-jessie">
                            <div style="display: block" class="item character-expression character-jessie-expression-happy"></div>
                            <div class="item character-jessie-arms">
                                <div class="item character-jessie-arm-l"></div>
                                <div class="item character-jessie-arm-r"></div>
                            </div>
                            <div class="item character-jessie-body"></div>
                        </div>


                        <div class="item character-haroon">
                            <div style="display: block" class="item character-expression character-haroon-expression-smile"></div>
                            <div class="item character-haroon-arms">
                                <div class="item character-haroon-arm-l"></div>
                                <div class="item character-haroon-arm-r"></div>
                            </div>
                            <div class="item character-haroon-body"></div>
                        </div>


                    </div>

                    <div class="drag-progress">

                    </div>

                    <div class="text text0 active">There are two <strong>poles</strong> of magnets -- North and South!</div>
                    <div class="text text1 inactive">
                        <p class="para0">Magnets that have <strong>opposite poles</strong> attract when they come close.</p>
                        <p class="para1"><strong>Try it!</strong></p>
                    </div>
                </div>

                <div class="scene scene2">

                    <div class="item character-jessie">
                        <div style="display: block" class="item character-expression character-jessie-expression-happy"></div>
                        <div class="item character-jessie-arms">
                            <div class="item character-jessie-arm-l"></div>
                            <div class="item character-jessie-arm-r"></div>
                        </div>
                        <div class="item character-jessie-body"></div>
                    </div>

                    <div class="item character-lil-full"></div>

                    <div class="drag-progress">

                    </div>

                    <div class="text text0 active">
                        <p>On the other hand, magnets that have the same pole <strong>repel</strong>. They can't stand each other!</p>
                        <p><strong>Try it!</strong></p>
                    </div>

                    <div class="text text1 inactive">
                        <p class="para0">Great work!</p>
                        <p class="para1">Now that we've been through that, it's time for a story...</p>
                        <p class="para2">Get comfy! We're ready when you are.</p>
                    
                        <button id="beginStory">Begin</button>
                    </div>
                </div>

                <div class="scene scene3">
                    <div class="sun"></div>
                    <div class="city">
                        <div class="buildings"></div>
                        <div class="magbux"></div>
                        <div class="bank"></div>
                        <div class="tree tree0"></div>
                        <div class="tree tree1"></div>
                        <div class="pavement"></div>
                        <div class="road"></div>
                        <div class="car"></div>    
                    </div>
                </div>

                <div class="scene scene4">
                    <div class="bed"></div>
                    <div class="maggie-sleep"></div>
                    <div class="blanket"></div>
                </div>

                <div class="scene scene5">
                    <div class="item bed-closeup"></div>
                    <div class="item blanket-closeup"></div>
                    <div class="item maggie-pajamas">
                        <div class="item expression-sleeping"></div>
                        <div class="item expression-shocked" style="display: none"></div>
                        <div class="item expression-screaming" style="display: none"></div>
                    </div>
                    <div class="item sleepbubbles">
                        <div class="item sleepbubble sleepbubble0"></div>
                        <div class="item sleepbubble sleepbubble1"></div>
                        <div class="item sleepbubble sleepbubble2"></div>
                        <div class="item sleepbubble sleepbubble3"></div>
                    </div>
                    <div class="item clock"></div>
                </div>
                
                <div class="scene scene6">
                    <div class="item magnetfield-academy-front"></div>
                    <div class="item maggie-back"></div>
                </div>

                <div class="scene scene7">
                    <div class="item character-jessie">
                        <div class="item character-expression character-jessie-expression-focussed active"></div>
                        <div class="item character-expression character-jessie-expression-surprised inactive"></div>
                        <div class="item character-jessie-arms animating">
                            <div class="item character-jessie-arm-l"></div>
                            <div class="item character-jessie-arm-r"></div>
                        </div>
                        <div class="item character-jessie-body"></div>
                    </div>

                    <div class="item character-tomas">
                        <div class="item character-tomas-arms">
                            <div class="item character-tomas-arm-l"></div>
                            <div class="item character-tomas-arm-r"></div>
                        </div>
                        <div class="item character-tomas-body"></div>
                    </div>
                </div>
            </div>
            <!-- End Story Screen -->


            <!-- Lab Screen -->
            <div class="game-page game-page-lab">
                
                <div class="moves-counter-container">
                    <div class="moves-counter-title">Moves</div>
                    <div class="moves-counter">0</div>
                </div>

                <!-- Boxes -->
                <div class="box box--magnetic"></div>
                <div class="box box--not-magnetic"></div>

                <!-- Scene items (non-interactive elements) -->
                <div class="scene-items">
                    <img id="scene-items--cabinets" src="img/lab/cabinets@2x.png" />
                    <img id="scene-items--desk" src="img/lab/desk@2x.png" />
                </div>

                <!-- Maggie -->
                <div class="character-maggie">
                    <div class="character-maggie-frame"></div>
                    <div class="character-maggie-hair"></div>
                    <div class="character-maggie-face">
                        <div class="character-maggie-goggles"></div>
                        <div class="character-maggie-face-brow-l"></div>
                        <div class="character-maggie-face-brow-r"></div>
                        <div class="character-expression character-maggie-expression-happy"></div>
                        <div class="character-expression character-maggie-expression-surprised"></div>
                        <div class="character-expression character-maggie-expression-neutral active">
                            <div class="character-maggie-face-eye-l"></div>
                            <div class="character-maggie-face-eye-r"></div>
                            <div class="character-maggie-face-mouth character-maggie-face-mouth-smile"></div>
                        </div>
                    </div>
                    <div class="character-maggie-body"></div>
                    <div class="character-maggie-arm-l"></div>
                    <div class="character-maggie-arm-r"></div>
                    <div class="character-maggie-leg-l"></div>
                    <div class="character-maggie-leg-r"></div>
                </div>

                <!-- Maggie's drop zone.
                     We dynamically add an img tag in here to represent the item drop hint
                     in JS. -->
                <div class="maggie-drop-zone">
                    <img class="item-cola" src="img/items/cola--hint@2x.png" />
                </div>

                <!-- Item bar -->
                <div class="item-bar">

                    <!-- Item bar item (template) -->
                    <template id="item-bar__item-template">
                        <li class="item-bar__item">
                            <div class="item">
                                <img src />
                            </div>
                        </li>
                    </template>
                    
                    <ul class="item-bar__items">
                        <!-- this DIV is filled out dynamically using js, so we can shuffle it -->
                    </ul>

                    <!-- Item bar backdrop -->
                    <img src="img/toolbelt@2x.png" id="item-bar__backdrop" />
                </div>
            </div>

        </div>
    </div>
    <div class="sound-effects-container"></div>
</body>
</html>